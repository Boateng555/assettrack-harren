<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ welcome_pack.employee.name }} - Welcome Pack | AssetTrack</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a;
            color: #e2e8f0;
        }
    </style>
</head>
<body>
<div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8">

    <!-- Welcome Pack Content - Compact Single Page Layout -->
    <div class="bg-slate-800 rounded-xl shadow-lg border border-slate-700">
        <!-- Header Section -->
        <div class="px-6 py-4 border-b border-slate-700 text-center">
            <h1 class="text-2xl font-bold text-white mb-1">Harren Group Welcome Pack</h1>
            <p class="text-slate-400 text-sm">Welcome Pack ID: {{ welcome_pack.id }} | Generated: {{ welcome_pack.generated_at|date:"M d, Y g:i A" }}</p>
        </div>

        <div class="px-6 py-4 space-y-3">
            <!-- Employee Information Section -->
            <div>
                <h2 class="text-lg font-semibold text-white mb-2 border-b border-slate-700 pb-1">Employee Information</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div>
                        <label class="block text-xs font-medium text-slate-400 mb-1">Employee Name</label>
                        <p class="text-white font-medium">{{ welcome_pack.employee.name }}</p>
                    </div>
                    <div>
                        <label class="block text-xs font-medium text-slate-400 mb-1">Department</label>
                        <p class="text-white text-sm">{{ welcome_pack.employee.department }}</p>
                    </div>
                    <div>
                        <label class="block text-xs font-medium text-slate-400 mb-1">Email Address</label>
                        <p class="text-white text-sm">{{ welcome_pack.employee_email|default:"Not provided" }}</p>
                    </div>
                    <div>
                        <label class="block text-xs font-medium text-slate-400 mb-1">Temporary Password</label>
                        <p class="text-white font-mono bg-slate-700 px-2 py-1 rounded text-xs border border-slate-600">{{ welcome_pack.employee_password|default:"Not set" }}</p>
                    </div>
                    <div>
                        <label class="block text-xs font-medium text-slate-400 mb-1">Office Location</label>
                        <p class="text-white text-sm">{{ welcome_pack.office_location|default:"Not specified" }}</p>
                    </div>
                    <div>
                        <label class="block text-xs font-medium text-slate-400 mb-1">Start Date</label>
                        <p class="text-white text-sm">{{ welcome_pack.start_date|date:"M d, Y"|default:"Not specified" }}</p>
                    </div>
                </div>
            </div>

            <!-- IT Contact Information Section -->
            <div>
                <h2 class="text-lg font-semibold text-white mb-2 border-b border-slate-700 pb-1">IT Contact Information</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div>
                        <label class="block text-xs font-medium text-slate-400 mb-1">IT Contact Person</label>
                        <p class="text-white text-sm">{{ welcome_pack.it_contact_person|default:"Not specified" }}</p>
                    </div>
                    <div>
                        <label class="block text-xs font-medium text-slate-400 mb-1">IT Helpdesk Email</label>
                        <p class="text-white text-sm">
                            {% if welcome_pack.it_helpdesk_email %}
                            <a href="mailto:{{ welcome_pack.it_helpdesk_email }}" class="text-blue-400 hover:text-blue-300 underline">{{ welcome_pack.it_helpdesk_email }}</a>
                            {% else %}
                            Not specified
                            {% endif %}
                        </p>
                    </div>
                    <div>
                        <label class="block text-xs font-medium text-slate-400 mb-1">IT Phone Number</label>
                        <p class="text-white text-sm">
                            {% if welcome_pack.it_phone_number %}
                            <a href="tel:{{ welcome_pack.it_phone_number }}" class="text-blue-400 hover:text-blue-300 underline">{{ welcome_pack.it_phone_number }}</a>
                            {% else %}
                            Not specified
                            {% endif %}
                        </p>
                    </div>
                </div>
            </div>

            <!-- Microsoft Teams Information Section -->
            <div>
                <h2 class="text-lg font-semibold text-white mb-2 border-b border-slate-700 pb-1">Microsoft Teams Information</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-xs font-medium text-slate-400 mb-1">Teams Username</label>
                        <p class="text-white text-sm">{{ welcome_pack.teams_username|default:"Not specified" }}</p>
                    </div>
                    <div>
                        <label class="block text-xs font-medium text-slate-400 mb-1">Teams Email</label>
                        <p class="text-white text-sm">
                            {% if welcome_pack.teams_email %}
                            <a href="mailto:{{ welcome_pack.teams_email }}" class="text-blue-400 hover:text-blue-300 underline">{{ welcome_pack.teams_email }}</a>
                            {% else %}
                            Not specified
                            {% endif %}
                        </p>
                    </div>
                </div>
            </div>

            <!-- Additional Information Section -->
            {% if welcome_pack.department_info or welcome_pack.notes %}
            <div>
                <h2 class="text-lg font-semibold text-white mb-2 border-b border-slate-700 pb-1">Additional Information</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    {% if welcome_pack.department_info %}
                    <div>
                        <label class="block text-xs font-medium text-slate-400 mb-1">Department Information</label>
                        <div class="bg-slate-700 rounded p-2">
                            <p class="text-white text-xs whitespace-pre-wrap">{{ welcome_pack.department_info }}</p>
                        </div>
                    </div>
                    {% endif %}
                    
                    {% if welcome_pack.notes %}
                    <div>
                        <label class="block text-xs font-medium text-slate-400 mb-1">Notes</label>
                        <div class="bg-slate-700 rounded p-2">
                            <p class="text-white text-xs whitespace-pre-wrap">{{ welcome_pack.notes }}</p>
                        </div>
                    </div>
                    {% endif %}
                </div>
            </div>
            {% endif %}

            <!-- Welcome Message Section -->
            <div>
                <h2 class="text-lg font-semibold text-white mb-2 border-b border-slate-700 pb-1">Welcome Message</h2>
                <div class="bg-slate-700 rounded p-3">
                    <p class="text-white text-xs leading-relaxed">
                        Welcome to Harren Group! We're excited to have you join our team. This welcome pack contains all the essential information you'll need to get started. Please review all the information carefully and don't hesitate to contact the IT team if you have any questions or need assistance with your setup.
                    </p>
                </div>
            </div>

            <!-- Next Steps Section -->
            <div>
                <h2 class="text-lg font-semibold text-white mb-2 border-b border-slate-700 pb-1">Next Steps</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="bg-slate-700 rounded p-3">
                        <h3 class="text-sm font-medium text-white mb-2">First Day Checklist</h3>
                        <ul class="text-white text-xs space-y-1">
                            <li class="flex items-start">
                                <span class="text-blue-400 mr-1">•</span>
                                Review your login credentials
                            </li>
                            <li class="flex items-start">
                                <span class="text-blue-400 mr-1">•</span>
                                Set up your Microsoft Teams account
                            </li>
                            <li class="flex items-start">
                                <span class="text-blue-400 mr-1">•</span>
                                Contact IT for any technical issues
                            </li>
                            <li class="flex items-start">
                                <span class="text-blue-400 mr-1">•</span>
                                Familiarize yourself with company policies
                            </li>
                        </ul>
                    </div>
                    <div class="bg-slate-700 rounded p-3">
                        <h3 class="text-sm font-medium text-white mb-2">Important Reminders</h3>
                        <ul class="text-white text-xs space-y-1">
                            <li class="flex items-start">
                                <span class="text-green-400 mr-1">•</span>
                                Change your temporary password immediately
                            </li>
                            <li class="flex items-start">
                                <span class="text-green-400 mr-1">•</span>
                                Keep your login credentials secure
                            </li>
                            <li class="flex items-start">
                                <span class="text-green-400 mr-1">•</span>
                                Report any security concerns to IT
                            </li>
                            <li class="flex items-start">
                                <span class="text-green-400 mr-1">•</span>
                                Complete your onboarding training
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Status and Actions - Only visible on screen, hidden when printing -->
    <div class="mt-6 grid grid-cols-1 lg:grid-cols-3 gap-6 print:hidden" style="display: none !important;">
        <!-- Status Information -->
        <div class="bg-slate-800 rounded-xl shadow-lg border border-slate-700">
            <div class="px-6 py-4 border-b border-slate-700">
                <h3 class="text-lg font-semibold text-white">Status</h3>
            </div>
            <div class="p-6 space-y-4">
                <div>
                    <label class="block text-sm font-medium text-slate-400 mb-1">Welcome Pack Status</label>
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full {% if welcome_pack.is_active %}bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400{% else %}bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400{% endif %}">
                        {% if welcome_pack.is_active %}Active{% else %}Inactive{% endif %}
                    </span>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-slate-400 mb-1">Email Status</label>
                    <div class="space-y-2">
                        <div class="flex items-center">
                            {% if welcome_pack.email_sent_to_employee %}
                            <i data-lucide="check-circle" class="h-4 w-4 text-green-500 mr-2"></i>
                            <span class="text-sm text-white">Sent to Employee</span>
                            {% else %}
                            <i data-lucide="circle" class="h-4 w-4 text-slate-500 mr-2"></i>
                            <span class="text-sm text-slate-400">Not sent to Employee</span>
                            {% endif %}
                        </div>
                        <div class="flex items-center">
                            {% if welcome_pack.email_sent_to_it %}
                            <i data-lucide="check-circle" class="h-4 w-4 text-green-500 mr-2"></i>
                            <span class="text-sm text-white">Sent to IT</span>
                            {% else %}
                            <i data-lucide="circle" class="h-4 w-4 text-slate-500 mr-2"></i>
                            <span class="text-sm text-slate-400">Not sent to IT</span>
                            {% endif %}
                        </div>
                    </div>
                </div>
                
                {% if welcome_pack.email_sent_at %}
                <div>
                    <label class="block text-sm font-medium text-slate-400 mb-1">Last Email Sent</label>
                    <p class="text-white text-sm">{{ welcome_pack.email_sent_at|date:"M d, Y H:i" }}</p>
                </div>
                {% endif %}
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="bg-slate-800 rounded-xl shadow-lg border border-slate-700">
            <div class="px-6 py-4 border-b border-slate-700">
                <h3 class="text-lg font-semibold text-white">Quick Actions</h3>
            </div>
            <div class="p-6 space-y-3">
                <a href="{% url 'assets:send_welcome_pack_email' welcome_pack.id %}" class="w-full flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700">
                    <i data-lucide="mail" class="mr-2 h-4 w-4"></i>
                    Send Welcome Email
                </a>
                <button onclick="window.print()" class="w-full flex items-center justify-center px-4 py-2 border border-slate-600 text-sm font-medium rounded-md text-slate-300 bg-slate-700 hover:bg-slate-600">
                    <i data-lucide="printer" class="mr-2 h-4 w-4"></i>
                    Print as PDF
                </button>
                <a href="{% url 'assets:edit_welcome_pack' welcome_pack.id %}" class="w-full flex items-center justify-center px-4 py-2 border border-slate-600 text-sm font-medium rounded-md text-slate-300 bg-slate-700 hover:bg-slate-600">
                    <i data-lucide="edit" class="mr-2 h-4 w-4"></i>
                    Edit Welcome Pack
                </a>
            </div>
        </div>

        <!-- Creation Information -->
        <div class="bg-slate-800 rounded-xl shadow-lg border border-slate-700">
            <div class="px-6 py-4 border-b border-slate-700">
                <h3 class="text-lg font-semibold text-white">Creation Info</h3>
            </div>
            <div class="p-6 space-y-3">
                <div>
                    <label class="block text-sm font-medium text-slate-400 mb-1">Created By</label>
                    <p class="text-white">{{ welcome_pack.generated_by.get_full_name|default:welcome_pack.generated_by.username }}</p>
                </div>
                <div>
                    <label class="block text-sm font-medium text-slate-400 mb-1">Created On</label>
                    <p class="text-white">{{ welcome_pack.generated_at|date:"M d, Y" }}</p>
                </div>
                <div>
                    <label class="block text-sm font-medium text-slate-400 mb-1">Created At</label>
                    <p class="text-white">{{ welcome_pack.generated_at|time:"H:i" }}</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Print Styles -->
<style>
@media print {
    @page {
        margin: 0.1in;
        size: A4;
    }
    
    /* Hide navigation, buttons, and footer when printing */
    button, a, .print\\:hidden, footer, .mt-6 {
        display: none !important;
    }
    
    /* Hide the entire status and actions section */
    .mt-6 {
        display: none !important;
    }
    
    /* Optimize for single page printing */
    body {
        margin: 0 !important;
        padding: 0 !important;
        font-size: 9px !important;
        line-height: 1.2 !important;
        background: white !important;
        color: black !important;
    }
    
    .max-w-6xl {
        max-width: none !important;
        margin: 0 !important;
        padding: 4px !important;
    }
    
    /* Convert dark theme to print-friendly */
    .bg-slate-800 {
        background-color: white !important;
        color: black !important;
        border: 1px solid #000 !important;
        box-shadow: none !important;
    }
    
    .bg-slate-700 {
        background-color: #f5f5f5 !important;
        border: 1px solid #ccc !important;
    }
    
    .text-white {
        color: black !important;
    }
    
    .text-slate-400 {
        color: #333 !important;
    }
    
    .border-slate-700, .border-slate-600 {
        border-color: #000 !important;
    }
    
    /* Compact spacing for printing */
    .p-3, .p-2 {
        padding: 3px !important;
    }
    
    .p-6, .p-4 {
        padding: 4px !important;
    }
    
    .px-6 {
        padding-left: 6px !important;
        padding-right: 6px !important;
    }
    
    .py-4 {
        padding-top: 4px !important;
        padding-bottom: 4px !important;
    }
    
    .space-y-4 > * + * {
        margin-top: 3px !important;
    }
    
    .space-y-3 > * + * {
        margin-top: 2px !important;
    }
    
    .gap-4 {
        gap: 3px !important;
    }
    
    .gap-2 {
        gap: 2px !important;
    }
    
    /* Ensure text is readable */
    .text-sm {
        font-size: 8px !important;
    }
    
    .text-xs {
        font-size: 7px !important;
    }
    
    .text-lg {
        font-size: 10px !important;
    }
    
    .text-2xl {
        font-size: 12px !important;
    }
    
    /* Remove shadows and effects */
    .shadow-lg {
        box-shadow: none !important;
    }
    
    /* Ensure links are visible */
    a {
        color: #000 !important;
        text-decoration: underline !important;
    }
    
    /* Compact margins */
    .mb-3 {
        margin-bottom: 4px !important;
    }
    
    .mb-2 {
        margin-bottom: 3px !important;
    }
    
    .mb-1 {
        margin-bottom: 2px !important;
    }
    
    .mt-4 {
        margin-top: 6px !important;
    }
    
    .pt-3 {
        padding-top: 4px !important;
    }
    
    /* Remove rounded corners */
    .rounded-lg, .rounded-xl, .rounded {
        border-radius: 0 !important;
    }
    
    /* Hide icons */
    [data-lucide] {
        display: none !important;
    }
    
    /* Ensure single page */
    .bg-slate-800 {
        page-break-inside: avoid !important;
    }
    
    /* Force single page layout */
    .max-w-6xl > div {
        page-break-inside: avoid !important;
    }
    
    /* Reduce section spacing */
    .space-y-3 > * + * {
        margin-top: 2px !important;
    }
    
    /* Compact grid layouts */
    .grid {
        display: grid !important;
    }
    
    .grid-cols-3 {
        grid-template-columns: 1fr 1fr 1fr !important;
    }
    
    .grid-cols-2 {
        grid-template-columns: 1fr 1fr !important;
    }
    
    /* Reduce header spacing */
    .border-b {
        border-bottom-width: 1px !important;
        padding-bottom: 2px !important;
        margin-bottom: 2px !important;
    }
    
    /* Compact welcome message */
    .bg-slate-700 {
        padding: 3px !important;
        margin: 2px 0 !important;
    }
    
    /* Compact lists */
    ul {
        margin: 0 !important;
        padding-left: 8px !important;
    }
    
    li {
        margin: 1px 0 !important;
        padding: 0 !important;
    }
    
    /* Compact list spacing */
    .space-y-1 > * + * {
        margin-top: 2px !important;
    }
    
    /* Compact header */
    .text-center {
        text-align: center !important;
    }
    
    /* Ensure all content fits */
    .whitespace-pre-wrap {
        white-space: normal !important;
    }
    
    /* Force everything to fit on one page */
    * {
        max-height: none !important;
        overflow: visible !important;
    }
    
    /* Reduce all margins and padding to minimum */
    .mb-3, .mb-2, .mb-1 {
        margin-bottom: 1px !important;
    }
    
    .mt-4, .mt-3, .mt-2, .mt-1 {
        margin-top: 1px !important;
    }
    
    .pt-3, .pt-2, .pt-1 {
        padding-top: 1px !important;
    }
    
    .pb-3, .pb-2, .pb-1 {
        padding-bottom: 1px !important;
    }
    
    /* Make sure the main container fits */
    .bg-slate-800 {
        height: auto !important;
        min-height: auto !important;
        max-height: 100vh !important;
    }
}
</style>
</body>
</html>
